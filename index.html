<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="./style/index.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
    <link rel="icon" href="https://blog.logomyway.com/wp-content/uploads/2020/12/discord-mascot.png" type="image/x-icon"  />
    
    <title>Como Criar Um Bot Para Discord</title>
</head>

<body>
    <div class="div-body">
        <section title="starting">
            <h1 class="titulo">Como criar um Bot para o Discord que consuma uma Api de finan√ßas</h1>
            <h2>Introdu√ß√£o <span class="emoji">üìå</span></h2>

            <p>
                Nesse tutorial vamos criar e codificar um bot para o <strong>Discord</strong>.
                Vamos fazer ele exibir<br> informa√ßoes que v√£o ser puxadas diretamente de uma api externa. E vamos apenas
                usar<br> <strong>Node JS</strong> √© a <strong>Api hgbrasil</strong>.<br><br>
                voc√™ vai aprender a consumir uma api com Node JS, Aprendera a manipular jsons,<br> √© tambem a como utilizar modulos do Node JS
            </p>
            <h2>Vamos Come√ßar....</h2>

            <p>Vamos come√ßar, mas antes voc√™ precisa ter as seguintes ferramentas:</p>
            <ul>
                <li id="lista1"><a href="https://nodejs.org/pt-br/">Node</a> (Neste tutorial vamos utilizar a vers√£o 15.12.0)</li>
                <li id="lista2">Um Editor de codigo (Vs code, Atom, brackets....)</li>
                <li>Uma conta no <a href="https://discord.com/">Discord</a>.</li>
            </ul>
        </section>

        <section title="bot-creation">
            <h2>Criando O Bot <span class="emoji">ü§ñ</span></h2>

            <p>
                Bom agora vamos colocar a m√£o na massa e criar nosso <strong>Bot</strong>.<br>
                Primeiro: Vamos entrar no site do 
                    <a href="https://discord.com/developers/applications">
                        discord para developers
                    </a> 
                voc√™ deve ver esse painel.
                <img id="passo1_img1" src="./images/Passo1/passo1.png">
            </p>

            <p>
                <br>Em seguida clique em <strong>"New Application"</strong>, Que esta localizado no canto superior<br>
                direito da pagina.<br><br>

                Ira aparecer a seguinte mensagem: <br>

                 <img id="passo1_img2" src="./images/Passo1/passo1_img2.png">
            </p>

            <p>
                <br>No campo escrito <strong>"Name"</strong> Insira o nome da sua aplica√ß√£o, N√£o se preocupe o nome da  aplica√ß√£o<br> 
                n√£o sera o nome do seu Bot. Depois de inserir um nome voc√™ deve clicar em<br>
                <strong>"Create"</strong> Depois de clicar deve aparecer o seguinte painel:

                <img id="passo1_img3" src="./images/Passo1/passo1_img3.png">
            </p>

            <p>
                <br>Pronto criamos nossa aplica√ß√£o agora vamos de fato criar nosso Bot.<br>
                E pra isso Vamos clicar em <strong>"Bot"</strong> na barra de navega√ß√£o a esquerda da pagina.<br>
                Depois de clicar ira aparecer este painel

                <img id="passo1_img4" src="./images/Passo1/passo1_img4.png">
            </p>

            <p>
                <br>Depois vamos clicar em <strong>"Add Bot"</strong> no canto direito da pagina, Em seguida ira aparecer uma mensagem<br>
                Clique em <strong>"Yes, do it"</strong>, voc√™ sera redirecionado para o seguinte painel

                <img id="passo1_img5" src="./images/Passo1/passo1_img5.png">
            </p>

            <p>
                <br>Aqui voc√™ ja pode customizar seu Bot adicionando um nome √© foto.<br><br>

                voc√™ deve clicar em <strong>"Click to Reveal Token"</strong>, do lado da imagem do seu bot, Depois de<br>
                clicado ira aparecer uma sequencia de letras e numeros.<br>
                Guarde pois vamos precisar disso mais tarde.<br><br>
            </p>

            <p>
                Vamos navegar ate a aba <strong>"OAuth2"</strong> na barra de navega√ß√£o a esquerda.<br><br>
                Ja na aba "OAuth2"<br> Vamos selecionar a Op√ß√£o <strong>"Bot"</strong> Logo em seguida ira aparecer um novo painel abaixo, selecione tambem<br>
                a op√ß√£o <strong>"Administrator"</strong><br>

                <img id="passo1_img6" src="./images/Passo1/passo1_img6.png">
            </p>

            <p>
                <br>Depois disso sera gerado um convite para o Bot, Copie e cole no seu navegador.<br><br>

                Agora voc√™ ira adicionar o Bot no seu <strong>Servidor</strong>, Depois de ter colado o link ira aparecer o seguinte painel:<br>

                <img id="passo1_img7" src="./images/Passo1/passo1_img7.png">

                <br>Clique em <strong>"Selecione um servidor"</strong>, ent√£o escolha o servidor que o Bot devera ser adicionado.<br>
                Depois de selecionar o servidor, verifique se o Bot foi adicionado.<br>

                <img id="passo1_img8" src="images/Passo1/passo1_img8.png">

                <br><strong>Se Tudo deu certo vamos Come√ßar a codificar nosso Bot agora.</strong>
            </p>

        </section>

        <section title="Bot Configuration">
            <h2>Codificar O Bot <span class="emoji">üë©‚Äçüíª</span></h2>

            <p>
                Primeiro vamos criar uma pasta para colocar nosso projeto.<br><br>
                Depois vamos entrar na pasta criada, depois crie um arquivo chamado <strong>"config.json".</strong><br><br>

                O <strong>config.json</strong> sera usado para armazenar nosso <strong>"Bot Token"</strong> e nosso <strong>"prefix"</strong>.<br>

                <img id="passo2_img1" src="./images/passo2/passo2_img1.png">
            </p>

            <p>
                <br>O que √© <strong>"Bot Token"</strong> ? Bot token e o codigo que vamos usar para o <strong>Discord</strong> nos Identificar<br>
                √© nosso bot ter acesso ao Discord.<br><br>

                <br>O que √© <strong>Prefix</strong> √© tudo que vem antes do comando do Bot.<br><br>

                Assim quando a messagem do autor estiver com o prefixo o Bot entendera que √© para ele<br> executar uma
                a√ß√£o.<br>

                <img id="prefix" src="./images/prefix.png"><br>
            </p>

            <p>
                <br>Ja no arquivo <strong>"config.json"</strong> vamos definir o <strong>"Token"</strong> do nosso Bot<br>
                que pegamos no primeiro passo<br><br>

                E tambem vamos definir o prefixo do nosso Bot<br>

               <img id="passo2_img2" src="./images/passo2/passo2_img2.png">
            </p>

            <p>
                <br>Agora vamos criar outro arquivo chamado <strong>"index.js"</strong>, Onde vamos guarda a parte<br>
                principal do nosso codigo.<br><br>

                Agora vamos instalar todas as dependencias do <strong>Node</strong> para esse projeto.<br><br>

                Com o terminal aberto digite o comando <strong>"npm init -y"</strong><br>

                <img id="passo2_img3" src="./images/passo2/passo2_img3.png">
            </p>

            <p>
                <br>Depois de excutar esses comandos voc√™ vera que se criou um arquivo chamado
                <strong>"package.json"</strong>.<br><br>

                Nele ficara armazenado todas as configura√ß√µes do nosso projeto.<br><br>

                Agora vamos instalar o <strong>modulos</strong> necessarios para execu√ß√£o do nosso projeto.<br>
                No terminal digite:<br>

                <img id="passo2_img4" src="./images/passo2/passo2_img4.png">
            </p>

            <p>
                <br>Depois de executar esses comandos ja estamos prontos para <strong>Come√ßar</strong> a codar.<br><br>

                Abra o arquivo <strong>"index.js"</strong>, vamos agora fazer os <strong>"requires"</strong> dos modulos que instalamos.<br>
                E tambem vamos chamar o nosso Token e prefixo que colocamos no <strong>"config.json"</strong><br>

                <img id="passo2_img5" src="./images/passo2/passo2_img5.png">
            </p>

            <p>
                <br>Depois de feito, vamos "chamar" o nosso Bot criando um constante e atribuindo<strong>"new discord.Client();"</strong><br>
                tambem vamos atribuir <strong>"bot.config = config."</strong><br>

                <img id="passo2_img5" src="./images/passo2/passo2_img6.png">
            </p>

            <p>
                <br>Depois de feito, agora vamos criar uma pasta no nosso projeto chamada
                <strong>"events".</strong><br><br>

                Nela ficara armazenado os eventos do nosso Bot<br><br>

                Agora vamos criar um arquivo chamado <strong>"message.js"</strong>, Nele vamos colocar os seguintes codigos<br>

                <img id="passo2_img7" src="./images/passo2/passo2_img7.png">
            </p>

            <p>
                <br><strong>O que esse codigo faz ?</strong>, Ele primeiro exporta esse modulo <br><br>

                Depois faz uma verifica√ß√£o caso o autor da mensagem seja um outro bot ele ignora.<br><br>

                Ele tambem verifica se a mensagem contem o prefixo, alem de outras coisas um pouco<br>
                mais tecnicas para o bot conseguir mandar a mensagem.<br><br>

                Depois de escrever esse codigo voltamos para o index onde vamos agora chamar esse evento.<br><br>
                Ja no index vamos digitar os seguintes codigos:<br>

                <img id="passo2_img7" src="images/passo2/passo2_img8.png">
            </p>

            <p>
                <br><strong>O que esse codigo faz ?</strong> Ele primeiro le o diretorio <strong>"events"</strong><br><br>

                Depois passamos uma fun√ß√£o com dois parametros <strong>(err, file)</strong> Se tiver algum erro ele retorna.<br><br>

                Depois criamos uma constante pegando os arquivos dentro de <strong>"events"</strong><br><br>

                E por fim ao bot ser ligado ele chama o nosso evento.<br>
            </p>

        <section title="Api">
            <h2>Agora Vamos Consumir A Api <span class="emoji">‚öôÔ∏è</span></h2>

            <p>
                Agora vamos criar uma pasta chamada <strong>"commands"</strong>, dentro dela vamos criar o arquivo <strong>bitcoin.js</strong><br><br>

                Agora vamos entrar no site da 
                    <a href="https://console.hgbrasil.com/keys">
                        <strong>Api hgbrasil</strong>
                    </a> e criarmos nossa chave.<br>

                apenas crie uma conta e clique em <strong>"Criar Nova Chave"</strong>.<br>

                <img id="api" src="./images/api.jpg">
            </p>

            <p>
                <br>Agora vamos come√ßar a consumir a Api, Entre no arquivo que acabamos de criar.<br><br>

                Agora vamos separar em partes, Primeiro vamos fazer a <strong>request</strong> na Api da seguinte forma:<br>

                <img id="passo2_img9" src="./images/passo2/passo2_img9.png">
            </p>

            <p>
                <br><strong>O que esse codigo faz ?</strong> Primeiro a gente pede o modulo axios.<br><br>

                Depois exportamos nosso arquivo como um modulo<br><br>

                Depois verificamos sen√£o foi um bot que enviou a mensagem<br><br>

                Em seguida fazemos um <strong>Request</strong> na Api, ent√£o criamos duas contantes dentro de uma fun√ß√£o <br>
            </p>

            <p>
                A primeira constate √© a <strong>"Buy"</strong> √© a outra √© a <strong>"Sell"</strong><br><br>

                As duas recebem praticamente o mesmo valor mundado apenas o final, uma <strong>.buy</strong> a outra <strong>.sell</strong><br><br>

                E nessas constantes pegamos os valores do <strong>Json</strong> √© logo depois convertemos para o <strong>Real</strong><br><br>
            </p>

            <p>
                <strong>Ta Agora nos Temos Os Dados</strong> mas ainda o usuario n√£o pode visualizar esses dados,<br>
                vamos criar um metodo para ele visualizar<br><br>

                Ainda no Arquivo <strong>"bitcoin.js"</strong> vamos fazer um
                <a href="https://discordjs.guide/popular-topics/embeds.html">
                    Embed.
                </a>

                E para fazer isso vamos fazer o seguinte codigo:<br>
                <img id="passo2_img10" src="./images/passo2/passo2_img10.png">
            </p>

            <p>
                <br>Isso e um <strong>Embed</strong> para o Discord, onde nos passamos chaves e valores.<br><br>

                Veja que ali em <strong>"Fields"</strong> nos passamos as duas constantes criadas anteriormente.<br>

                <img id="passo2_img11" src="./images/passo2/passo2_img11.png">
            </p>
        </section>

        <section title="Finish">
            <h2>Para Finalizar..</h2>

            <p>
                Estamos chegando ao fim Agora do nosso projeto ;(<br><br>
            </p>

            <p>
                Mas ainda n√£o acabou ent√£o m√£o na massa, Bom Depois de terminamos o arquivo <strong>"bitcoin.js"</strong><br>

                vamos agora voltar para o Index. Ja no arquivo do index vamos agora chamar nosso <strong>Command</strong><br>

                E pra isso vamos digitar o seguinte Codigo:<br>

                <img id="passo2_img12" src="./images/passo2/passo2_img12.png">
            </p>

            <p>
                <br><strong>O que esse codigo faz ?</strong> Ele primeiro le o diretorio <strong>"commands"</strong><br><br>

                Depois ele retorna casa aja algum erro<br>
                Depois ele verifica se o arquivo tem a extens√£o <strong>".js"</strong> caso n√£o tenha ele
                retorna<br>
                Depois ele pega o arquivo e exibe o nome do arquivo no console.<br><br>

                Depois ele pega nosso token e faz longin na Api do Discord.<br><br>

                <br>caso tudo esteja certo devera acontecer isso ao digitar <strong>*bitcoin</strong><br>

                <img id="sucesso" src="./images/sucesso.png">
            </p>

        </section>

        <section title="Footer">
            <footer class="footer">
                <h2>E Aqui Chega Ao fim <span class="emoji">üòÑ</span></h2>

                <p>Author: Eduardo Santos</p><br>

                <a href="https://github.com/Chapadox">
                    <img id ="github" src="./images/github.png" alt="Github">
                </a>

                <a href="https://www.linkedin.com/in/destr00/">
                    <img id="linkedin" src="./images/linkedin.png" alt="Linkedin">
                </a>

                <a href="https://www.instagram.com/dudu_436/">
                    <img id="instagram" src="./images/Instagram.png" alt="Instagram">
                </a>
            </footer>
        </section>
    </div>
</body>

</html>